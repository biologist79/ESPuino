menu "Hidden Helpers"
	visible if n

config CONVERT_TO_IDENTIFIER
	bool
	default y
endmenu

menu "ESPuino General Settings"

config FTP
	bool "Enables support for FTP Server"
	default y
	help
	  To activate use CMD_ENABLE_FTP_SERVER which is assigned to pressing
	  the play/pause and next buttons at the same time.

choice
	bool "Set the language used in logs and web config"
	default LANGUAGE_DE

config LANGUAGE_DE
	bool "German"

config LANGUAGE_EN
	bool "English"

endchoice

config MDNS
	bool "Enables support for MDNS"
	default y
	help
	  When enabled, you don't have to handle with ESPuino's IP address.
	  If hostname is set to "ESPuino", you can reach it via
	  http://ESPuino.local.

config MQTT
	bool "Enable support for MQTT"
	default n
	help
	  Make sure to configure mqtt-server and (optionally) username+pwd.

config SHUTDOWN_IF_SD_BOOT_FAILS
	bool "Enables shutdown on SD card boot failures"
	default y
	help
	  If enabled the controller will go to deepsleep if boot fails due to
	  SD card errors. This is recommended if there's no other way to restart
	  the controller in battery mode!

config DEEPSLEEP_TIME_AFTER_BOOT_FAILS
	int "Time in seconds after which shutdown is triggered"
	default 20
	depends on SHUTDOWN_IF_SD_BOOT_FAILS

config SHUTDOWN_ON_BAT_CRITICAL
	bool "Enables shutdown if battery level is critical"
	default n
	depends on MEASURE_BATTERY_VOLTAGE || MEASURE_BATTERY_17055

menuconfig STATIC_IP
	bool "Use static IP configuration"
	default n

if STATIC_IP

config LOCAL_IP
	string "ESPuino's static local IP address"
	default "192,168,2,100"
	depends on CONVERT_TO_IDENTIFIER

config GATEWAY_IP
	string "Gateway IP address"
	default "192,168,2,1"
	depends on CONVERT_TO_IDENTIFIER

config SUBNET_MASK
	string "Subnet mask"
	default "255,255,255,0"
	depends on CONVERT_TO_IDENTIFIER

config DNS_IP
	string "DNS Server IP"
	default "192,168,2,1"
	depends on CONVERT_TO_IDENTIFIER

endif # STATIC_IP

endmenu

menu "ESPuino Audio Settings"

config CACHED_PLAYLIST
	bool "Enables support for playlist caching"
	default y
	help
	  See https://forum.espuino.de/t/neues-feature-cached-playlist/515 for
	  more information.

config HEADPHONE_ADJUST
	bool "Enables adjustment of headphone volume"
	default y
	help
	  If enabled and a headphone is plugged in, an alternative maximum
	  volume is activated to prevent damage to childrens ears.

config MONO_SPEAKER
	bool "Enables mono output for speaker"
	default y
	help
	  If active, mono output is used while headphones remain stereo (if
	  CONFIG_HEADPHONE_ADJUST is active).

config USE_LAST_VOLUME_AFTER_REBOOT
	bool "Enables remembering the volume used before last shutdown"
	default n

config SAVE_PLAYPOS_BEFORE_SHUTDOWN
	bool "Enables saving of the play position on shutdown"
	default n
	help
	  When playback is active and mode audiobook was selected, the last
	  position in the track is saved automatically when shutdown is
	  initiated.

config SAVE_PLAYPOS_WHEN_RFID_CHANGE
	bool "Enables saving of the play position on RFID event"
	default n
	help
	  When playback is active and mode audiobook was selected, the last
	  position in the track is saved automatically when a new RFID tag
	  is detected.

endmenu

menu "ESPuino Hardware Settings"

config BLUETOOTH
	bool "Enables Bluetooth support"
	default y
	help
	  If enabled and Bluetooth mode is active, you can stream to your
	  ESPuino via Bluetooth (a2dp-sink).

config I2S_COMM_FMT_LSB
	bool "Enables FMT instead of MSB for I2S-communication-format"
	default n
	help
	  Used e.g. by PT2811. Don't enable for MAX98357a, AC101 or PCM5102A.

config IR_CONTROL
	bool "Enables support for infrared control"
	default n
	help
	  See https://forum.espuino.de/t/neues-feature-fernsteuerung-per-infrarot-fernbedienung/265
	  for more information.

choice
	bool "Battery measurement hardware"
	default MEASURE_BATTERY_VOLTAGE
	optional

config MEASURE_BATTERY_VOLTAGE
	bool "Enables battery measurement via ADC and voltage divider"

config MEASURE_BATTERY_MAX17055
	bool "Enables battery measurement via external fuel gauge (MAX17055)"

endchoice

menuconfig NEOPIXEL
	bool "Enable support for NeoPixel LEDs"
	default y

if NEOPIXEL

config NEOPIXEL_CENTER_PAUSE
	bool "Center pause LED pattern"
	default n
	help
	  If true the pause pattern is centered in the middle of the strip.

config NEOPIXEL_CHIPSET
	string "Type of NeoPixels"
	default WS2812B
	depends on CONVERT_TO_IDENTIFIER

config NEOPIXEL_COLOR_ORDER
	string "Order of NeoPixel colors"
	default GRB
	depends on CONVERT_TO_IDENTIFIER

config NEOPIXEL_DIMMABLE_STATES
	int "Number of intermediate values between to LEDs with full brightness"
	default 50
	help
	  See https://forum.espuino.de/t/led-verbesserungen-rework/1739 for more
	  information.

config NEOPIXEL_NUM_IDLE_DOTS
	int "Number of LED dots which are on when idle"
	default 4

config NEOPIXEL_NUM_LEDS
	int "Number of NeoPixel LEDs available"
	default 24

config NEOPIXEL_OFFSET
	int "Offset for first LED"
	range 0 NEOPIXEL_NUM_LEDS
	default 0
	help
	  Shifts the starting LED in the original direction of the NeoPixel ring.

config NEOPIXEL_PROGRESS_HUE_START
	int "Start hue for LED progress indicator"
	default 85
	help
	  Hue ranges from basically 0 - 255, but you can also set numbers
	  outside this range to get the desired effect (e.g. 85 - 215 will go
	  from green to purple via blue, 341 - 215 start and end at exactly the
	  same color but go from green to purple via yellow and red).

config NEOPIXEL_PROGRESS_HUE_END
	int "End hue for LED progress indicator"
	default -1
	help
	  Hue ranges from basically 0 - 255, but you can also set numbers
	  outside this range to get the desired effect (e.g. 85 - 215 will go
	  from green to purple via blue, 341 - 215 start and end at exactly the
	  same color but go from green to purple via yellow and red).

config NEOPIXEL_REVERSE
	bool "Reverse direction of NeoPixel LEDs"
	default n

endif # NEOPIXEL

config PORT_EXPANDER
	bool "Enables support for the PCA9555 port expander"
	default n
	help
	  See https://forum.espuino.de/t/einsatz-des-port-expanders-pca9555/306
	  for more information."

menuconfig RFID
	bool "Enables support for RFID reader"
	default y

if RFID

choice
	bool "Select RFID reader type"
	default RFID_READER_MFRC522_SPI

config RFID_READER_MFRC522_SPI
	bool "MFRC522 connected via SPI"

config RFID_READER_MFRC522_I2C
	bool "MFRC522 connected via I2C"

config RFID_READER_PN5180
	bool "PN5180 connected via I2C"

endchoice

config RFID_SCAN_INTERVAL
	int "Scan interval for MFRC522 driver in milliseconds"
	default 100
	depends on RFID_READER_MFRC522_SPI || RFID_READER_MFRC522_I2C

config RFID_LPCD
	bool "Enables support for wakeup triggered by RFID tag"
	default n
	depends on RFID_READER_PN5180
	help
	  Wakes up ESPuino if RFID tag was applied while deepsleep is active.
	  Only ISO-14443-tags are supported for wakeup!

endif # RFID

menuconfig ROTARY_ENCODER
	bool "Enables support for rotary encoder"
	default y

if ROTARY_ENCODER

config INCLUDE_ROTARY_IN_CONTROLS_LOCK
	bool "If set the rotary encoder is locked if controls are locked"
	default y

endif # ROTARY_ENCODER

choice
	bool "Select SD card interface mode"
	default SD_MMC_1BIT_MODE

config SD_MMC_1BIT_MODE
	bool "MMC interface with 1 bit buswidth"

config SD_SPI_MODE
	bool "SPI interface"

endchoice

config SINGLE_SPI
	bool "Use single SPI instance instead of two (not yet working!)"
	default n

endmenu
